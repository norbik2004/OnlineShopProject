@model ChangeDataViewModel

@{
	Layout = "_Layout";
}
<div class="container shadow p-4 bg-white rounded">
	<form asp-action="ChangeData" method="post">
		<div asp-validation-summary="ModelOnly" class="text-danger"></div>
		<div class="mb-3">
			<label asp-for="PhoneNumber" class="form-label"></label>
			<input asp-for="PhoneNumber" class="form-control" value="@Model.PhoneNumber"
			oninput="formatPhoneNumber(this)"
			maxlength="11"
			/>
			<span asp-validation-for="PhoneNumber" class="text-danger"></span>
		</div>

		<div class="mb-3">
			<label asp-for="FullName" class="form-label"></label>
			<input asp-for="FullName" class="form-control"/>
			<span asp-validation-for="FullName" class="text-danger" value = "@Model.FullName"></span>
		</div>
		<div class="row" style="padding-top: 50px;">
			<div class="col">
				<input type="submit" value="ChangeData" class="btn btn-success w-100 p-2" />
			</div>

			<div class="col text-center">
				<a class="btn btn-danger w-100 p-2" asp-controller="Account" asp-action="ViewAccount">Back</a>
			</div>
		</div>
	</form>
</div>

<script>
	// Format Phone Number Input
	function formatPhoneNumber(input) {
		let value = input.value.replace(/\D/g, "");
		input.value = value.match(/.{1,3}/g)?.join("-") || "";s
	}
</script>